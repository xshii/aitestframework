{% extends "base.html" %}
{% block title %}Logs{% endblock %}
{% block content %}
<h4>Logs â€” {{ base_display }}</h4>

{% if parent %}
<a href="{{ url_for('logs.log_index', subpath=parent) }}" class="btn btn-sm btn-outline-secondary mb-2">&larr; Back</a>
{% endif %}

{% if entries %}
<table class="table table-striped table-hover table-sm">
  <thead><tr><th>Name</th><th>Size</th><th></th></tr></thead>
  <tbody>
  {% for e in entries %}
  <tr>
    <td>
      {% if e.is_dir %}
        <a href="{{ url_for('logs.log_index', subpath=e.path) }}">{{ e.name }}/</a>
      {% else %}
        <a href="{{ url_for('logs.log_view', subpath=e.path) }}">{{ e.name }}</a>
      {% endif %}
    </td>
    <td>{% if not e.is_dir %}{{ e.size_display }}{% endif %}</td>
    <td>{% if not e.is_dir %}<a href="{{ url_for('logs.log_download', subpath=e.path) }}" class="btn btn-sm btn-outline-primary">Download</a>{% endif %}</td>
  </tr>
  {% endfor %}
  </tbody>
</table>
{% else %}
<p class="text-muted">No files found.</p>
{% endif %}
{% endblock %}
