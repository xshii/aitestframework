<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="550" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="dutGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ee5a5a;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="exactGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4ecdc4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#44a08d;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pureGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="quantGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="perfectGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#11998e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38ef7d;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="passGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#56ab2f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a8e063;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="issueGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f7971e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ffd200;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="failGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#cb2d3e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ef473a;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="450" y="35" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#333">Three-Column Comparison Flow</text>

  <!-- DUT Output -->
  <g filter="url(#shadow)">
    <rect x="350" y="60" width="200" height="60" rx="10" fill="url(#dutGrad)"/>
    <text x="450" y="88" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">DUT Output</text>
    <text x="450" y="105" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(Device Under Test)</text>
  </g>

  <!-- Arrows from DUT -->
  <path d="M350 120 L200 180" stroke="#666" stroke-width="2"/>
  <polygon points="195,185 200,172 210,180" fill="#666"/>

  <path d="M450 120 L450 180" stroke="#666" stroke-width="2"/>
  <polygon points="450,185 445,175 455,175" fill="#666"/>

  <path d="M550 120 L700 180" stroke="#666" stroke-width="2"/>
  <polygon points="705,185 690,180 700,172" fill="#666"/>

  <!-- Three Comparison Columns -->
  <!-- Exact -->
  <g filter="url(#shadow)">
    <rect x="100" y="190" width="200" height="80" rx="10" fill="url(#exactGrad)"/>
    <text x="200" y="220" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Exact Compare</text>
    <text x="200" y="240" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">bit-level match</text>
    <text x="200" y="255" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">max_abs threshold</text>
  </g>

  <!-- Fuzzy Pure -->
  <g filter="url(#shadow)">
    <rect x="350" y="190" width="200" height="80" rx="10" fill="url(#pureGrad)"/>
    <text x="450" y="220" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Fuzzy Pure</text>
    <text x="450" y="240" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">vs golden_pure (fp32)</text>
    <text x="450" y="255" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">atol, rtol, QSNR, cosine</text>
  </g>

  <!-- Fuzzy Quant -->
  <g filter="url(#shadow)">
    <rect x="600" y="190" width="200" height="80" rx="10" fill="url(#quantGrad)"/>
    <text x="700" y="220" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Fuzzy Quant</text>
    <text x="700" y="240" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">vs golden_quant</text>
    <text x="700" y="255" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">atol, rtol, QSNR, cosine</text>
  </g>

  <!-- Arrows to Status Decision -->
  <path d="M200 270 L200 320" stroke="#666" stroke-width="2"/>
  <polygon points="200,325 195,315 205,315" fill="#666"/>

  <path d="M450 270 L450 320" stroke="#666" stroke-width="2"/>
  <polygon points="450,325 445,315 455,315" fill="#666"/>

  <path d="M700 270 L700 320" stroke="#666" stroke-width="2"/>
  <polygon points="700,325 695,315 705,315" fill="#666"/>

  <!-- Status Decision Box -->
  <g filter="url(#shadow)">
    <rect x="150" y="330" width="600" height="60" rx="10" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2"/>
    <text x="450" y="365" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Status Decision Logic</text>
  </g>

  <!-- Arrows to Status Results -->
  <path d="M250 390 L150 430" stroke="#666" stroke-width="2"/>
  <polygon points="145,435 155,422 162,432" fill="#666"/>

  <path d="M350 390 L300 430" stroke="#666" stroke-width="2"/>
  <polygon points="295,435 305,422 312,432" fill="#666"/>

  <path d="M550 390 L600 430" stroke="#666" stroke-width="2"/>
  <polygon points="605,435 588,432 595,422" fill="#666"/>

  <path d="M650 390 L750 430" stroke="#666" stroke-width="2"/>
  <polygon points="755,435 738,432 745,422" fill="#666"/>

  <!-- Status Results -->
  <!-- PERFECT -->
  <g filter="url(#shadow)">
    <rect x="50" y="440" width="150" height="70" rx="8" fill="url(#perfectGrad)"/>
    <text x="125" y="468" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">PERFECT</text>
    <text x="125" y="488" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">exact = true</text>
  </g>

  <!-- PASS -->
  <g filter="url(#shadow)">
    <rect x="225" y="440" width="150" height="70" rx="8" fill="url(#passGrad)"/>
    <text x="300" y="468" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">PASS</text>
    <text x="300" y="488" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">fuzzy_qnt = true</text>
  </g>

  <!-- QUANT_ISSUE -->
  <g filter="url(#shadow)">
    <rect x="525" y="440" width="150" height="70" rx="8" fill="url(#issueGrad)"/>
    <text x="600" y="468" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">QUANT_ISSUE</text>
    <text x="600" y="485" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">fuzzy_pure = true</text>
    <text x="600" y="498" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">fuzzy_qnt = false</text>
  </g>

  <!-- FAIL -->
  <g filter="url(#shadow)">
    <rect x="700" y="440" width="150" height="70" rx="8" fill="url(#failGrad)"/>
    <text x="775" y="468" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">FAIL</text>
    <text x="775" y="488" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">all checks failed</text>
  </g>

  <!-- Legend -->
  <rect x="50" y="525" width="800" height="20" fill="none"/>
  <text x="450" y="540" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999">Priority: PERFECT > PASS > QUANT_ISSUE > FAIL</text>
</svg>
