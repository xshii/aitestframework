# AI测试框架 - 需求总览索引
# AI Test Framework - Requirements Index
# 版本: 1.1.0
# 创建时间: 2026-02-02
# 更新时间: 2026-02-04
# 说明: 集成aidevtools，移除LLM专项测试，聚焦业务模型和算子验证

project:
  name: AI Test Framework
  name_cn: AI测试框架
  description: 一个专为业务模型/小模型测试设计的自动化测试框架，集成aidevtools算子验证工具
  version: 1.1.0
  created_at: 2026-02-02
  updated_at: 2026-02-04

# ============================================
# 需求统计摘要
# ============================================
summary:
  total_modules: 8  # 新增ADT模块
  total_requirements: 68  # 移除MODEL-009(1个)，新增ADT(7个)
  total_sub_requirements: 236  # 调整后

  priority_breakdown:
    P0: 28    # 核心功能
    P1: 32    # 重要功能
    P2: 7     # 可选增强
    P3: 1     # 未来规划

  status_breakdown:
    pending: 236
    in_progress: 0
    completed: 0

# ============================================
# 模块目录
# ============================================
modules:

  - id: CORE
    name: 核心框架
    name_en: Core Framework
    file: 01-core-framework.yaml
    description: 测试框架的核心引擎和基础设施
    requirements_count: 8
    sub_requirements_count: 32
    key_features:
      - 测试引擎初始化
      - 测试用例发现
      - 测试执行调度
      - 生命周期管理
      - Fixture机制
      - 异常处理
      - 日志系统
      - CLI命令行工具

  - id: MODEL
    name: AI模型测试
    name_en: AI Model Testing
    file: 02-ai-model-testing.yaml
    description: 针对业务模型和小模型的专项测试能力，集成aidevtools
    requirements_count: 8  # 移除了MODEL-009
    sub_requirements_count: 34
    key_features:
      - 模型加载(PyTorch/ONNX)
      - 推理正确性测试(四状态比对)
      - 模型精度测试(QSNR/cosine)
      - 推理性能测试
      - 压力测试
      - 鲁棒性测试
      - 一致性测试(量化)
      - Golden自检

  - id: DATA
    name: 数据管理
    name_en: Data Management
    file: 03-data-management.yaml
    description: 测试数据的加载、生成、存储和管理
    requirements_count: 9
    sub_requirements_count: 35
    key_features:
      - 多格式数据集加载
      - 数据集注册管理
      - 合成数据生成
      - 数据增强
      - 预处理Pipeline
      - 数据归一化
      - 数据采样策略
      - 黄金数据集管理

  - id: ASSERT
    name: 断言与验证
    name_en: Assertion & Validation
    file: 04-assertion-validation.yaml
    description: 测试结果的断言、比较和验证机制
    requirements_count: 10
    sub_requirements_count: 40
    key_features:
      - 基础断言方法
      - 数值比较断言
      - 张量断言
      - 分类结果断言
      - 目标检测断言
      - 文本断言
      - 性能断言
      - 精度指标断言
      - 结果快照对比
      - 自定义断言扩展

  - id: REPORT
    name: 报告生成
    name_en: Report Generation
    file: 05-report-generation.yaml
    description: 测试结果的报告生成、可视化和导出
    requirements_count: 9
    sub_requirements_count: 34
    key_features:
      - 多格式报告输出
      - 测试摘要
      - 详细测试结果
      - 性能指标报告
      - 模型精度报告
      - 图表可视化
      - 版本对比报告
      - 报告分发通知
      - 实时进度展示

  - id: INTEG
    name: 集成与部署
    name_en: Integration & Deployment
    file: 06-integration-deployment.yaml
    description: CI/CD集成、环境配置、容器化部署
    requirements_count: 10
    sub_requirements_count: 38
    key_features:
      - CI系统集成
      - CI报告集成
      - 测试环境配置
      - 依赖管理
      - Docker支持
      - Kubernetes部署
      - 模型服务集成
      - 云平台集成
      - 监控系统集成
      - 包分发

  - id: EXT
    name: 扩展性
    name_en: Extensibility
    file: 07-extensibility.yaml
    description: 插件系统、自定义扩展、API接口
    requirements_count: 9
    sub_requirements_count: 37
    key_features:
      - 插件架构
      - 插件类型支持
      - 钩子接口
      - 自定义测试类型
      - 自定义数据处理
      - Python API
      - REST API
      - 配置系统扩展
      - 扩展开发文档

  - id: ADT
    name: aidevtools集成
    name_en: aidevtools Integration
    file: 08-aidevtools-integration.yaml
    description: 集成aidevtools工具集，提供算子级Golden生成、精度比对、量化格式支持
    requirements_count: 7
    sub_requirements_count: 26
    key_features:
      - CompareEngine集成(四状态比对)
      - ops算子Golden生成
      - 量化格式支持(BFP/GFloat)
      - 数据生成集成
      - xlsx工作流集成
      - 比对报告集成
      - 四状态断言

# ============================================
# 优先级说明
# ============================================
priority_definitions:
  P0:
    name: 必须实现
    description: 核心功能，MVP必备
    target_phase: Phase 1
  P1:
    name: 重要功能
    description: 重要功能，应尽早实现
    target_phase: Phase 2
  P2:
    name: 可选增强
    description: 增强功能，资源允许时实现
    target_phase: Phase 3
  P3:
    name: 未来规划
    description: 远期规划功能
    target_phase: Future

# ============================================
# 状态说明
# ============================================
status_definitions:
  pending:
    name: 待开始
    description: 需求已定义，尚未开始开发
  in_progress:
    name: 进行中
    description: 正在开发中
  completed:
    name: 已完成
    description: 开发完成并通过测试
  blocked:
    name: 阻塞
    description: 因依赖或其他原因阻塞

# ============================================
# 开发路线图
# ============================================
roadmap:
  phase_1:
    name: MVP版本
    description: 最小可行产品，实现核心功能，集成aidevtools
    target_priorities: [P0]
    estimated_requirements: 28
    key_deliverables:
      - aidevtools集成(四状态比对)
      - 测试用例发现与执行
      - 基础报告生成
      - CLI工具

  phase_2:
    name: 功能完善
    description: 补充重要功能，提升易用性
    target_priorities: [P1]
    estimated_requirements: 32
    key_deliverables:
      - 并行执行
      - 完整报告系统
      - CI/CD集成
      - 插件系统

  phase_3:
    name: 增强扩展
    description: 添加增强功能，扩展生态
    target_priorities: [P2, P3]
    estimated_requirements: 8
    key_deliverables:
      - 分布式执行
      - 云平台集成
      - REST API

# ============================================
# 变更历史
# ============================================
changelog:
  - version: "1.1.0"
    date: "2026-02-04"
    changes:
      - 移除MODEL-009 LLM专项测试
      - 新增ADT模块(aidevtools集成)
      - 调整MODEL模块，聚焦业务模型和算子验证
      - 更新优先级分布

  - version: "1.0.0"
    date: "2026-02-02"
    changes:
      - 初始版本

# ============================================
# 文件列表
# ============================================
files:
  - 00-requirements-index.yaml     # 需求总览索引(本文件)
  - 01-core-framework.yaml         # 核心框架需求
  - 02-ai-model-testing.yaml       # AI模型测试需求
  - 03-data-management.yaml        # 数据管理需求
  - 04-assertion-validation.yaml   # 断言与验证需求
  - 05-report-generation.yaml      # 报告生成需求
  - 06-integration-deployment.yaml # 集成与部署需求
  - 07-extensibility.yaml          # 扩展性需求
  - 08-aidevtools-integration.yaml # aidevtools集成需求(新增)
