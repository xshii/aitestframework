# AI测试框架 - 报告生成需求
# 分类: 报告生成 (Report Generation)
# 版本: 1.0.0
# 创建时间: 2026-02-02

module:
  id: REPORT
  name: 报告生成
  description: 测试结果的报告生成、可视化和导出

requirements:

  # ============================================
  # 报告格式
  # ============================================
  - id: REPORT-001
    name: 多格式报告输出
    description: 支持多种格式的测试报告
    priority: P0
    status: pending
    sub_requirements:
      - id: REPORT-001-01
        name: 控制台报告
        description: 实时在控制台输出测试进度和结果
        priority: P0
        status: pending
      - id: REPORT-001-02
        name: HTML报告
        description: 生成交互式HTML测试报告
        priority: P0
        status: pending
      - id: REPORT-001-03
        name: JSON报告
        description: 生成机器可读的JSON格式报告
        priority: P0
        status: pending
      - id: REPORT-001-04
        name: JUnit XML报告
        description: 生成CI系统兼容的JUnit XML格式
        priority: P0
        status: pending
      - id: REPORT-001-05
        name: Markdown报告
        description: 生成Markdown格式的报告
        priority: P1
        status: pending
      - id: REPORT-001-06
        name: PDF报告
        description: 生成可打印的PDF格式报告
        priority: P2
        status: pending

  # ============================================
  # 报告内容
  # ============================================
  - id: REPORT-002
    name: 测试摘要
    description: 报告包含测试执行摘要信息
    priority: P0
    status: pending
    sub_requirements:
      - id: REPORT-002-01
        name: 执行统计
        description: 总数、通过、失败、跳过的用例数
        priority: P0
        status: pending
      - id: REPORT-002-02
        name: 执行时间
        description: 总耗时和各用例耗时统计
        priority: P0
        status: pending
      - id: REPORT-002-03
        name: 通过率计算
        description: 计算并显示测试通过率
        priority: P0
        status: pending
      - id: REPORT-002-04
        name: 环境信息
        description: 记录测试执行的环境信息
        priority: P1
        status: pending

  - id: REPORT-003
    name: 详细测试结果
    description: 每个测试用例的详细结果
    priority: P0
    status: pending
    sub_requirements:
      - id: REPORT-003-01
        name: 用例基本信息
        description: 用例名称、路径、标签等
        priority: P0
        status: pending
      - id: REPORT-003-02
        name: 执行状态
        description: 通过/失败/跳过/错误状态
        priority: P0
        status: pending
      - id: REPORT-003-03
        name: 失败详情
        description: 失败原因、断言错误信息
        priority: P0
        status: pending
      - id: REPORT-003-04
        name: 堆栈追踪
        description: 错误的完整堆栈追踪信息
        priority: P0
        status: pending
      - id: REPORT-003-05
        name: 用例日志
        description: 关联的日志输出
        priority: P1
        status: pending
      - id: REPORT-003-06
        name: 截图附件
        description: 失败时的截图和附件
        priority: P1
        status: pending

  # ============================================
  # 性能报告
  # ============================================
  - id: REPORT-004
    name: 性能指标报告
    description: 模型性能测试的详细报告
    priority: P0
    status: pending
    sub_requirements:
      - id: REPORT-004-01
        name: 延迟统计
        description: 平均、P50、P90、P99延迟
        priority: P0
        status: pending
      - id: REPORT-004-02
        name: 吞吐量统计
        description: QPS/TPS等吞吐量指标
        priority: P0
        status: pending
      - id: REPORT-004-03
        name: 资源使用统计
        description: CPU、内存、GPU使用统计
        priority: P0
        status: pending
      - id: REPORT-004-04
        name: 性能趋势图
        description: 生成延迟分布等趋势图表
        priority: P1
        status: pending

  # ============================================
  # 精度报告
  # ============================================
  - id: REPORT-005
    name: 模型精度报告
    description: 模型精度评估的详细报告
    priority: P0
    status: pending
    sub_requirements:
      - id: REPORT-005-01
        name: 精度指标汇总
        description: 各项精度指标的汇总展示
        priority: P0
        status: pending
      - id: REPORT-005-02
        name: 分类报告
        description: 分类任务的详细报告(每类精度等)
        priority: P0
        status: pending
      - id: REPORT-005-03
        name: 混淆矩阵
        description: 生成混淆矩阵图表
        priority: P1
        status: pending
      - id: REPORT-005-04
        name: ROC/PR曲线
        description: 生成ROC和PR曲线图
        priority: P1
        status: pending
      - id: REPORT-005-05
        name: 错误样本分析
        description: 列出预测错误的样本详情
        priority: P1
        status: pending

  # ============================================
  # 可视化
  # ============================================
  - id: REPORT-006
    name: 图表可视化
    description: 测试结果的图表化展示
    priority: P1
    status: pending
    sub_requirements:
      - id: REPORT-006-01
        name: 通过率饼图
        description: 测试结果的饼图展示
        priority: P1
        status: pending
      - id: REPORT-006-02
        name: 执行时间柱状图
        description: 各用例执行时间的柱状图
        priority: P1
        status: pending
      - id: REPORT-006-03
        name: 趋势折线图
        description: 历史测试结果的趋势图
        priority: P1
        status: pending
      - id: REPORT-006-04
        name: 热力图
        description: 模块/标签维度的结果热力图
        priority: P2
        status: pending
      - id: REPORT-006-05
        name: 图表交互
        description: HTML报告中的交互式图表
        priority: P2
        status: pending

  # ============================================
  # 对比报告
  # ============================================
  - id: REPORT-007
    name: 版本对比报告
    description: 不同版本测试结果的对比
    priority: P1
    status: pending
    sub_requirements:
      - id: REPORT-007-01
        name: 结果差异对比
        description: 对比两次测试的结果差异
        priority: P1
        status: pending
      - id: REPORT-007-02
        name: 性能回归分析
        description: 分析性能指标的变化
        priority: P1
        status: pending
      - id: REPORT-007-03
        name: 精度变化分析
        description: 分析精度指标的变化
        priority: P1
        status: pending
      - id: REPORT-007-04
        name: 新增/修复用例
        description: 标识新增通过和修复的用例
        priority: P1
        status: pending

  # ============================================
  # 报告分发
  # ============================================
  - id: REPORT-008
    name: 报告分发通知
    description: 自动分发测试报告
    priority: P2
    status: pending
    sub_requirements:
      - id: REPORT-008-01
        name: 邮件通知
        description: 通过邮件发送测试报告
        priority: P2
        status: pending
      - id: REPORT-008-02
        name: Webhook通知
        description: 通过Webhook发送通知
        priority: P2
        status: pending
      - id: REPORT-008-03
        name: Slack/钉钉集成
        description: 集成常用即时通讯工具
        priority: P2
        status: pending
      - id: REPORT-008-04
        name: 报告归档
        description: 自动归档历史报告
        priority: P2
        status: pending

  # ============================================
  # 实时监控
  # ============================================
  - id: REPORT-009
    name: 实时进度展示
    description: 测试执行的实时进度展示
    priority: P1
    status: pending
    sub_requirements:
      - id: REPORT-009-01
        name: 进度条显示
        description: 控制台进度条实时更新
        priority: P1
        status: pending
      - id: REPORT-009-02
        name: 实时统计更新
        description: 实时更新通过/失败数量
        priority: P1
        status: pending
      - id: REPORT-009-03
        name: Web实时看板
        description: Web界面实时显示测试进度
        priority: P2
        status: pending
      - id: REPORT-009-04
        name: 失败即时通知
        description: 测试失败时即时通知
        priority: P2
        status: pending
